apiVersion: devplatform.tcsbank.ru/v1alpha1
kind: PerformanceTestProfiles
metadata:
  name: performance-test-profile
  description: performance test profile
  spec:
    - name: default
      period: 2022-08-06T00:00:00Z - 2022-08-06T12:00:00Z
      protocol: http
      profile:
        - request: /api/v4/users/status/ids
          intensity: 1840 rph
          params:
            method: POST
            path: /api/v4/users/status/ids
        - request: /api/v4/channels/*/posts?since=*&skipFetchThreads=false&collapsedThreads=true&collapsedThreadsExtended=false
          intensity: 1075 rph
          params:
            method: GET
            path: /api/v4/channels/*/posts?since=*&skipFetchThreads=false&collapsedThreads=true&collapsedThreadsExtended=false
        - request: /api/v4/users/me/teams/*/channels?include_deleted=true
          intensity: 825 rph
          params:
            method: GET
            path: /api/v4/users/me/teams/*/channels?include_deleted=true
        - request: /api/v4/users/me/teams/*/channels/members
          intensity: 811 rph
          params:
            method: GET
            path: /api/v4/users/me/teams/*/channels/members
        - request: /api/v4/users/me/teams/unread?include_collapsed_threads=true
          intensity: 712 rph
          params:
            method: GET
            path: /api/v4/users/me/teams/unread?include_collapsed_threads=true
        - request: /api/v4/users/ids?since=*
          intensity: 535 rph
          params:
            method: POST
            path: /api/v4/users/ids?since=*
        - request: /api/v4/channels/members/me/view
          intensity: 396 rph
          params:
            method: POST
            path: /api/v4/channels/members/me/view
        - request: /api/v4/users/*/teams/*/threads?before=&after=&per_page=20&extended=true&deleted=false&unread=false&since=*&totalsOnly=false&threadsOnly=false
          intensity: 282 rph
          params:
            method: GET
            path: /api/v4/users/*/teams/*/threads?before=&after=&per_page=20&extended=true&deleted=false&unread=false&since=*&totalsOnly=false&threadsOnly=false
        - request: /api/v4/users/usernames
          intensity: 241 rph
          params:
            method: POST
            path: /api/v4/users/usernames
